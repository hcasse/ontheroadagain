<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Arduino</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://secil.univ-tlse3.fr/ontheroadagain/index.xml">
		<link rel="canonical" href="https://secil.univ-tlse3.fr/ontheroadagain/docs/arduino/">
		
		<link rel="shortcut icon" type="image/png" href="https://secil.univ-tlse3.fr/ontheroadagain/apple-touch-icon-precomposed.png">
		
		
		<meta name="generator" content="Hugo 0.68.3" />

		
		<meta property="og:title" content="Arduino" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://secil.univ-tlse3.fr/ontheroadagain/docs/arduino-banner.jpg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://secil.univ-tlse3.fr/ontheroadagain/docs/arduino/" />
		<meta property="og:site_name" content="Arduino" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://secil.univ-tlse3.fr/ontheroadagain/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://secil.univ-tlse3.fr/ontheroadagain/css/story.css" />
		<link rel="stylesheet" href="https://secil.univ-tlse3.fr/ontheroadagain/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://secil.univ-tlse3.fr/ontheroadagain/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-docs page-kind-page is-page-true ">
		
		<header class="cover bg-top" style="background-image: url('https://secil.univ-tlse3.fr/ontheroadagain/docs/arduino-banner.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://secil.univ-tlse3.fr/ontheroadagain" title="Home">
						<img src="https://secil.univ-tlse3.fr/ontheroadagain/img/logo.jpg" class="w2 h2 br-100" alt="On The Road Again..." />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="/ontheroadagain/posts/">News</a>
						<a class="link f5 ml2 dim near-white" href="/ontheroadagain/docs/">Doc</a>
						<a class="link f5 ml2 dim near-white" href="/ontheroadagain/blogs/">Blogs</a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://secil.univ-tlse3.fr/ontheroadagain/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://secil.univ-tlse3.fr/ontheroadagain/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">Arduino</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
								Published
								<time datetime="0001-01-01T00:00:00Z">Jan 1, 0001</time>
								<span class="display-print">by Hugues Casse</span>
								
								<span class="display-print">at https://secil.univ-tlse3.fr/ontheroadagain/docs/arduino/</span>
							
						
					</h2>
				</div>

				
				
				
				<div class="w-100 cf hide-print">
					<a class="fr f6 ma0 pa2 link white-50 dim fas fa-camera" href="https://www.flickr.com/photos/hachimaki123/" title="Photo Credit"></a>
				</div>
				
				

			</div>
		</header>
		
		<main role="main">
		
<article class="center bg-white br-3 pv1 ph4 lh-copy f5 nested-links mw7">
	<p>L&rsquo;<a href="https://www.arduino.cc/">Arduino</a> Uno est une petit carte contenant un micro-contrôleur assez petit et économique (~15€). Equipé d&rsquo;un petit processeur <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42735-8-bit-AVR-Microcontroller-ATmega328-328P_Datasheet.pdf">AVR ATmega328P</a> d&rsquo;<a href="http://www.microchip.com/">ATMEL</a>, il a l&rsquo;avantage d&rsquo;utiliser une tension interne de 5V ce qui permet de le connecter facilement avec de nombreux capteurs et actionneurs (contre 3,3V ou 1,8V pour ARM et autres compatible x86).</p>
<h1 id="configuration-matérielle">Configuration matérielle</h1>
<p>Bien sûr, à un tel prix, il ne faut pas s&rsquo;attendre à trop de puissance :</p>
<ul>
<li>mono-processeur candencé à 20MHz (~20 MIPS) contre 1-2 GHz sur plusieurs coeurs dans vos PS et SmartPhone,</li>
<li>2 KO de RAM pour les données (contre 4-16 GO),</li>
<li>1 KO d&rsquo;EEPROM pour les données persistentes,</li>
<li>32 KB de mémoire flash pour mettre le programme et les données constantes.</li>
</ul>
<p>Cependant, cela devrait suffire pour notre robot. Par contre, il n&rsquo;est pas vraiment question de faire du traitement d&rsquo;image avec une caméra.</p>
<h1 id="connectivité">Connectivité</h1>
<p>L&rsquo;ATmega328P qui équipe la carte Arduino Uno est un micro-contrôleur, c&rsquo;est-à-dire un micro-processeur partageant sa puce électronique avec de la mémoire et des pilotes de périphériques et dédié aux applications embarquées. Les périphériques sont habituellement des capteurs et des actionneurs, c&rsquo;est-à-dire des mécanismes physiques procédant à la conversion d&rsquo;une grandeur physique vers une grandeur électrique (la tension en général). Les pilotes de périphériques contiennent des circuits spécialisées pour traiter les signaux électriques et de la logique pour contrôler les échanges avec les capteurs et les actionneurs. Le contact entre pilote et périphérique se fait à travers une broche permettant de faire passer l'électricité entre 0 et 5V pour l&rsquo;Arduino.</p>
<p>Le schéma ci-dessous donne une bonne vision des broches disponibles sur l&rsquo;Arduino Uno.</p>
<p><img src="../arduino-map.png" alt="Arduino Pin Map"></p>
<p>Au premier coup d&rsquo;oeil, à l&rsquo;exception des broches en charge de l&rsquo;alimentation et du reset, elles sont partagées entre plusieurs pilotes : GPIO, ADC, PWM, etc. Cela est du au fait que (a) développer un micro-contrôleur est très cher et (b) multiplier les broches sortant d&rsquo;une puce pose des problèmes technologiques (et de coût à la construction de la carte). Par conséquent, les constructeurs maximisent l&rsquo;utilisabilité des puces en essayant de minimiser le nombre de broches. Le résultat global est qu&rsquo;il faut :</p>
<ul>
<li>bien réfléchir à la connexion des périphériques à la conception,</li>
<li>configurer les broches aux démarrage pour sélectionner quel pilote les gèrera.</li>
</ul>
<p>Pour information, les pilotes principaux fournis par l&rsquo;ATmega328P sont ;</p>
<ul>
<li><a href="https://fr.wikipedia.org/wiki/General_Purpose_Input/Output">GPIO</a> (General Purpose Input Output) - signaux binaires (0 = 0V, 1 = 5V) en entrée et en sortie,</li>
<li><a href="https://fr.wikipedia.org/wiki/Convertisseur_analogique-num%C3%A9rique">ADC</a> (Analog Digital Converter) - convertiseur analogique / numérique de tension entre 0 et 5V sur 10-bit (résultat entre 0 et 1023),</li>
<li><a href="https://fr.wikipedia.org/wiki/Modulation_de_largeur_d'impulsion">PWM</a> (Pulse Width Modulation) - génération d&rsquo;un signal binaire avec des impulsions de différente largeur (codé sur 8-bit) permettant de contrôleur moteurs et servo-moteur,</li>
<li>SDA, SDL - pilote <a href="https://fr.wikipedia.org/wiki/I2C">I2C</a> (Inter-Integrated Circuit) qui est un bus industriel permettant d'échanger des messages avec des capteurs et des actionneurs intelligents,</li>
<li>MISO, MOSI, CS, SCLK - pilote <a href="https://fr.wikipedia.org/wiki/Serial_Peripheral_Interface">SPI</a> (Serial Peripheral Interface) et <a href="https://fr.wikipedia.org/wiki/UART">USART</a> (Universal Serial Asynchronous Receiver-Transmitter) permettant de réaliser des liaisons série.</li>
</ul>
<h1 id="utilisation">Utilisation</h1>
<p>Un autre élément qui a permis l&rsquo;acceptation très large de l&rsquo;Arduino est sa simplicité d&rsquo;utilisation. Il suffit :</p>
<ul>
<li>d&rsquo;un PC équipé d&rsquo;un port USB (Linux, Windows, Mac et même en ligne),</li>
<li>d&rsquo;un câble série</li>
<li>de l&rsquo;<a href="https://www.arduino.cc/en/Main/Software">EDI (Environnement de Développement Arduino Arduino)</a>.</li>
</ul>
<p><img src="../connect.png" alt="Connexion de l&rsquo;Arduino par USB"></p>
<p>Le câble USB permet à la fois d&rsquo;alimenter la carte Arduino, d'écrire le code de l&rsquo;application dans la mémoire flash et de servir de port série (entrée / sortie) pour déboguer l&rsquo;application.</p>
<p>L&rsquo;<a href="https://www.arduino.cc/en/Main/Software">EDI Arduino</a> intègre toutes les activités de programmation d&rsquo;un Arduino :</p>
<ul>
<li>écriture du code,</li>
<li>compilation croisée du code pour l&rsquo;AVR,</li>
<li>téléchargement du code,</li>
<li>gestion et affichage des entrées / sorties de débogage.</li>
</ul>
<p>L'écriture d&rsquo;un programme Arduino est également. Le langage utilisé est du C++ camouflé sous une forme de C fournissant les bibliothèques nécessaire au pilotage du matériel. Il y a essentiellement 2 fonctions à écrire :</p>
<ul>
<li><code>setup()</code> est appelée une seule fois au démarrage du programme pour configurer le matériel et l&rsquo;application,</li>
<li><code>loop()</code> est appelée en boucle et en continu tout le long du fonctionnement du programme (un programme embarqué ne s&rsquo;arrête jamais).</li>
</ul>
<p>L&rsquo;<a href="https://www.arduino.cc/en/Tutorial/Blink">exemple ci-desous</a> fait clignoter le LED câblée sur la carte Arduino (roche 13 pour le Uno) avec un délai d&rsquo;1s entre chaque allumage et extinction :</p>
<p><img src="../ide.png" alt="Exemple d&rsquo;utilisation de l&rsquo;IDE"></p>
<p>On notera que l&rsquo;Arduino dispose d&rsquo;excellents <a href="https://www.arduino.cc/en/Tutorial/HomePage">tutoriels et exemples</a>.</p>

</article>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
			
				
					<p><img src="/ontheroadagain/authors/hugues-casse/elephant.png" alt="Hugues"></p>
<p>Hugues Cassé est Maître de Conférence à l&rsquo;Université Toulouse 3.
Il enseigne architecture, compilation et systèmes embarqués.
C&rsquo;est l&rsquo;organisateur principal d&rsquo;<strong>On The Road Again&hellip;</strong></p>

				
			
		
		</div>
		
	</div>

		
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://secil.univ-tlse3.fr/ontheroadagain/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2022 
			</p>
		</footer>
		
	
	
	</body>
</html>
